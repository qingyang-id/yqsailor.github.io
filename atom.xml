<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Sailor&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://yqsailor.github.io/"/>
  <updated>2018-09-13T05:33:06.960Z</updated>
  <id>http://yqsailor.github.io/</id>
  
  <author>
    <name>Sailor</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>IPFS</title>
    <link href="http://yqsailor.github.io/2018/09/12/ipfs/"/>
    <id>http://yqsailor.github.io/2018/09/12/ipfs/</id>
    <published>2018-09-12T09:18:28.000Z</published>
    <updated>2018-09-13T05:33:06.960Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://ipfs.io/" target="_blank" rel="noopener">IPFS</a>的全称是InterPlanetary File System星际文件系统，是一个点对点的网络超媒体协议。它的目标是成为更快、更安全、更开放的下一代互联网。<br><!-- ![ipfs cover](/images/ipfs/ipfs-cover.png) --><br><img src="/2018/09/12/ipfs/images/ipfs-cover.png"></p><h2 id="IPFS介绍"><a href="#IPFS介绍" class="headerlink" title="IPFS介绍"></a>IPFS介绍</h2><h3 id="IPFS尝试解决HTTP目前存在的四个问题："><a href="#IPFS尝试解决HTTP目前存在的四个问题：" class="headerlink" title="IPFS尝试解决HTTP目前存在的四个问题："></a>IPFS尝试解决HTTP目前存在的四个问题：</h3><p>. 服务低效，成本高。这也是大部分P2P服务比中心化服务器优秀的地方。</p><p>. 网络服务受限于供应商，文件具有无法永久保存的风险，更无法历史回溯。</p><p>. 中心化的网络权力过于集中，网络控制和监管某些程度上限制了科技创新。</p><p>. 互联网服务大多依赖于骨干网络，一旦宕机大部分服务将无法使用。</p><h3 id="IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。"><a href="#IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。" class="headerlink" title="IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。"></a>IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。</h3><a id="more"></a><p>在IPFS网络上，每个IPFS上的文件都具备一个唯一的哈希码。IPFS同时具备了文件去重和历史版本的功能，每个网络节点会存储自己感兴趣的内容，并且索引其它内容的位置，用户可以通过哈希码来寻找到每个文件的具体位置。此外IPFS本身还自带一个IPNS的域名，可以把你的内容和你的个人域名进行绑定。</p><h2 id="IPFS的下载与安装"><a href="#IPFS的下载与安装" class="headerlink" title="IPFS的下载与安装"></a>IPFS的下载与安装</h2><p>可参考官网：<a href="https://ipfs.io/docs/install" target="_blank" rel="noopener">https://ipfs.io/docs/install</a> ，备注：目前需要科学上网才能访问</p><p>本文以mac环境下安装为例进行说明（mac下也可以用homebrew执行<code>brew install ipfs</code>进行安装），在terminal内输入以下命令进行下载与安装。本文时间(2018.9.13)的最新版本为v0.4.17，<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">tar go-ipfs_v0.4.17_darwin-amd64.tar.gz</span><br><span class="line">cd go-ipfs</span><br><span class="line">./install.sh</span><br></pre></td></tr></table></figure></p><p>安装后使用help命令，可以测试是否成功。<br><code>ipfs help</code></p><h3 id="IPFS的启动"><a href="#IPFS的启动" class="headerlink" title="IPFS的启动"></a>IPFS的启动</h3><p>使用参考：<a href="https://ipfs.io/docs/getting-started" target="_blank" rel="noopener">https://ipfs.io/docs/getting-started</a></p><p>首先进行初始化，创建一个全局的本地仓库与配置文件。<br><code>ipfs init</code></p><p>然后需要开启IPFS的进程从而与网络保持连接状态。这里加上&amp;是为了让进程在后台运行，可以在开启后同时按CTRL键C键回到之前界面。<br><code>ipfs daemon &amp;</code></p><p>可以通过下面的命令查看我们在IPFS网络上已经连接的节点<br><code>ipfs swarm peers</code></p><h2 id="IPFS的使用"><a href="#IPFS的使用" class="headerlink" title="IPFS的使用"></a>IPFS的使用</h2><p>这里讲解一下hexo搭建的个人博客上传到IPFS网络上。hexo搭建个人博客请移步至hexo+next搭建个人博客，并发布到git pages</p><p>1、使用命令<code>ipfs id</code>查看你的电脑的ipfs id<br>2、修改全局配置_config.yml中的root为<code>/ipns/${ipfsId}</code>,其中的ipfsId为你电脑对应的ipfs id<br>3、在你的hexo搭建的博客根目录下执行如下命令打包生成对应的静态文件。<br><code>hexo generate（hexo g也可以）</code></p><p>4、通过ipfs add命令，直接把项目直接添加到IPFS网络。<br><code>ipfs add -r public/</code><br><img src="/2018/09/12/ipfs/images/ipfs-add.png"></p><p>5、通过<code>ipfs name pulished</code>命令，把项目绑定到IPNS。<br><code>ipfs name publish QmcmaC834fyeqXuxZmkKd2ukSLsZY5tprGffzCXrpKzAZ8</code></p><p> 完成这一步后，你应该会在Terminal里看到如下运行结果，其中Published to your ipfs id，它标识了你的文件在网路上的位置。<br><code>Published to 你的ipfs id: /ipfs/QmcmaC834fyeqXuxZmkKd2ukSLsZY5tprGffzCXrpKzAZ8</code></p><p>6、现在你的文件已经在IPFS上了，网络为了避免垃圾资源过度的情况会在一段时间之后清空数据。为了保证我们的文件能够一直保持在IPFS网络上，我们需要执行pin命令，这样只要你的IPFS进程还开启着，数据就不会被垃圾回收。<br><code>ipfs pin add -r 你的ipfsId</code></p><p>2.3 将Hexo博客部署到IPFS节点上<br>Hexo是一个静态博客生成器，执行hexo generate后，会在博客目录生成/Public目录,该目录即为全部博客内容<br>执行 ipfs add -r public<br>得到：added QmXJJm7aydK22eF1BdKVozcXH5Ltm8ZwbFHo3c36hi9qUx public<br>QmXJJm7aydK22eF1BdKVozcXH5Ltm8ZwbFHo3c36hi9qUx即为博客网站的site_hash,你可以通过任意运行IPFS的节点访问，如：<a href="http://localhost:8080/ipfs/$SITE_HASH，也可以通过官方运行的节点访问：http://gateway.ipfs.io/ipfs/$SITE_HASH。" target="_blank" rel="noopener">http://localhost:8080/ipfs/$SITE_HASH，也可以通过官方运行的节点访问：http://gateway.ipfs.io/ipfs/$SITE_HASH。</a></p><p>7 绑定独立域名<br>刚才，我们通过ipfs add，将博客发布到了IPFS运行的区块链节点上，但复杂的site_hash并不友好，我们可以使用IPNS技术，通过绑定独立域名来实现与现有的网站访问并无任何不一样的体现。我们假设你已经有一个可以正常使用的域名，如aa.com，没有域名的可以到任意域名服务商初购买。<br>首先，我们将网站发布<br>执行 ipfs name publish QmXJJm7aydK22eF1BdKVozcXH5Ltm8ZwbFHo3c36hi9qUx<br>得到 Published to QmV61ui6H9qX3126yGH846dPkMgSe7SZcDxrVwm2gxTidu: /ipfs/QmXJJm7aydK22eF1BdKVozcXH5Ltm8ZwbFHo3c36hi9qUx<br>记住QmV61ui6H9qX3126yGH846dPkMgSe7SZcDxrVwm2gxTidu为你的peerid，该hash是保持不变的。<br>那好，我们现在只需要将aa.com解析到上述地址即可，添加TXT记录为dnslink=/ipns/QmV61ui6H9qX3126yGH846dPkMgSe7SZcDxrVwm2gxTidu,同时将域名A记录指向任意ipfs节点的ip，如gateway.ipfs.io。<br>现在访问aa.com，你是不是发现已经可以正常访问你刚才生成的博客了。当然，在没有优化之前，访问会很慢，但可以打开。<br>由于IPNS还不稳定，你可以在<a href="http://ipfs.io/ipfs/QmeaNWtacNyWZxEphYCdVmF6bcMg7Bjn6e5sGdK6fr1nMx" target="_blank" rel="noopener">http://ipfs.io/ipfs/QmeaNWtacNyWZxEphYCdVmF6bcMg7Bjn6e5sGdK6fr1nMx</a> 查看本页面。</p><p>现在你的个人网站已经搭建在了一个完全去中心化的网络上了。你可以通过网址 <a href="https://gateway.ipfs.io/ipns/你的ipfsId" target="_blank" rel="noopener">https://gateway.ipfs.io/ipns/你的ipfsId</a> 访问你的个人主页，也可以通过<a href="http://127.0.0.1:8080/ipns/你的ipfsId。另外要注意的是，IPFS的网关目前需要科学上网才能连接。" target="_blank" rel="noopener">http://127.0.0.1:8080/ipns/你的ipfsId。另外要注意的是，IPFS的网关目前需要科学上网才能连接。</a></p><p>另外，如果需要绑定个人域名，可查阅官方手册的IPNS相关内容。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;&lt;a href=&quot;https://ipfs.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;IPFS&lt;/a&gt;的全称是InterPlanetary File System星际文件系统，是一个点对点的网络超媒体协议。它的目标是成为更快、更安全、更开放的下一代互联网。&lt;br&gt;&lt;!-- ![ipfs cover](/images/ipfs/ipfs-cover.png) --&gt;&lt;br&gt;&lt;img src=&quot;/2018/09/12/ipfs/images/ipfs-cover.png&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;IPFS介绍&quot;&gt;&lt;a href=&quot;#IPFS介绍&quot; class=&quot;headerlink&quot; title=&quot;IPFS介绍&quot;&gt;&lt;/a&gt;IPFS介绍&lt;/h2&gt;&lt;h3 id=&quot;IPFS尝试解决HTTP目前存在的四个问题：&quot;&gt;&lt;a href=&quot;#IPFS尝试解决HTTP目前存在的四个问题：&quot; class=&quot;headerlink&quot; title=&quot;IPFS尝试解决HTTP目前存在的四个问题：&quot;&gt;&lt;/a&gt;IPFS尝试解决HTTP目前存在的四个问题：&lt;/h3&gt;&lt;p&gt;. 服务低效，成本高。这也是大部分P2P服务比中心化服务器优秀的地方。&lt;/p&gt;
&lt;p&gt;. 网络服务受限于供应商，文件具有无法永久保存的风险，更无法历史回溯。&lt;/p&gt;
&lt;p&gt;. 中心化的网络权力过于集中，网络控制和监管某些程度上限制了科技创新。&lt;/p&gt;
&lt;p&gt;. 互联网服务大多依赖于骨干网络，一旦宕机大部分服务将无法使用。&lt;/p&gt;
&lt;h3 id=&quot;IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。&quot;&gt;&lt;a href=&quot;#IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。&quot; class=&quot;headerlink&quot; title=&quot;IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。&quot;&gt;&lt;/a&gt;IPFS的野心是取代现在的HTTP，去创建一个全新的去中心化网络。&lt;/h3&gt;
    
    </summary>
    
      <category term="Web" scheme="http://yqsailor.github.io/categories/Web/"/>
    
    
      <category term="IPFS" scheme="http://yqsailor.github.io/tags/IPFS/"/>
    
      <category term="Web" scheme="http://yqsailor.github.io/tags/Web/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://yqsailor.github.io/2018/09/12/hello-world/"/>
    <id>http://yqsailor.github.io/2018/09/12/hello-world/</id>
    <published>2018-09-12T02:02:31.000Z</published>
    <updated>2018-09-12T12:39:57.762Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More<code>create new</code> info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.
      
    
    </summary>
    
      <category term="Hexo" scheme="http://yqsailor.github.io/categories/Hexo/"/>
    
    
  </entry>
  
</feed>
